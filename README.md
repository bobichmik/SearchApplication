# SearchApplication
Web-приложение было реализовано с помощью Razor pages. Для работы с базой данных использовался Entity Framework. 
Для создания БД и ее объектов использовался подход Code First.

Страница Index отвечает за поиск через сервисы Google, Yandex и Bing.
Поиск ведется по Search Term.
Результат, который приходит первый, выводится на страницу и записывается бд. 
Если результат по данному Search Term уже есть в базе, записи с данным Search Term удаляются, и вместо них записываются новые результаты.

Страница DbSearch отвечает за поиск в БД.
Поиск также ведется по Search Term.

Для каждого сервиса был реализован свой клиент для отправки поисковых запросов и получения результатов.
Каждый клиент реализует интерфейс ISearchClient.

Чтобы поиск заработал, нужно прописать значения в конфиг appsettings.json.
В поле ```"DefaultConnection": ""``` нужно вставить строку подключения к базе данных.

В секции Google нужно указать Url и креды для поиска. Для тестирования были использованы следующие параметры: 
```
    "Url": "https://www.googleapis.com/customsearch/v1",
    "Key": "AIzaSyAtmSONG1rljrEgsvcus8gUYmfy5YcWARc",
    "CustomSearchEngineId": "016090189203945702627:n0vlgirvzxf"
```

В секции Bing нужно указать Url и креды для поиска. Для тестирования были использованы следующие параметры: 
```
    "Url": "https://api.cognitive.microsoft.com/bing/v7.0/search",
    "Key": "e3a9a702151b4e90a8e3f8d6ba20e00b"
```
    
В секции Yandex нужно указать Url и креды для поиска. Для тестирования были использованы следующие параметры: 
```
    "Url": "http://xmlproxy.ru/search/xml",
    "Key": "ifyouneedmorejustpay",
    "User": "test@megaindex.ru"
```
В случае с Yandex использовался стороний сервис для поиска, который предоставлял доступ к сервису Яндекс.XML, так как при генерации ключей для Яндекс.XML у нового пользователя Яндекс выставлял максимально количество запросов для поиска в сутки = 0.
